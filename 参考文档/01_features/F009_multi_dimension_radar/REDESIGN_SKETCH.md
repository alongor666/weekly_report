# å¤šç»´é›·è¾¾å›¾æ”¹é€ è‰å›¾ v2.0

**æ”¹é€ æ—¥æœŸ**: 2025-11-02
**æ”¹é€ ç›®æ ‡**: ä»"æ—¶é—´å¯¹æ¯”"æ”¹ä¸º"æœºæ„å¯¹æ¯”" + æ™ºèƒ½å¿«æ·ç­›é€‰

---

## ä¸€ã€æ”¹é€ æ¦‚è¿°

### åŸè®¾è®¡
```
[å½“å‰å‘¨æ•°æ®] vs [ä¸Šå‘¨æ•°æ®]
å•ä¸€é›·è¾¾å›¾ï¼Œä¸¤æ¡æŠ˜çº¿
```

### æ–°è®¾è®¡
```
[æœºæ„A] vs [æœºæ„B] vs [æœºæ„C] ... (æœ€å¤š7ä¸ª)
å•ä¸€é›·è¾¾å›¾ï¼Œå¤šæ¡æŠ˜çº¿ï¼ˆæ¯ä¸ªæœºæ„ä¸€æ¡ï¼‰
æ”¯æŒå¿«æ·ç­›é€‰ï¼šæˆéƒ½/å¼‚åœ°ã€ä¿è´¹åŒºé—´ã€èµ”ä»˜ç‡åŒºé—´
```

---

## äºŒã€æœºæ„åˆ—è¡¨ä¸é¢œè‰²æ–¹æ¡ˆ

### 2.1 ä¸‰çº§æœºæ„å®Œæ•´åˆ—è¡¨ï¼ˆ12ä¸ªï¼‰

```typescript
const ALL_ORGANIZATIONS = [
  'å¤©åºœ', 'é«˜æ–°', 'æ–°éƒ½', 'é’ç¾Š',  // æˆéƒ½
  'å®œå®¾', 'æ­¦ä¾¯', 'æ³¸å·', 'å¾·é˜³',  // å¼‚åœ°Aç»„
  'ä¹å±±', 'èµ„é˜³', 'è‡ªè´¡', 'è¾¾å·',  // å¼‚åœ°Bç»„
  // 'æœ¬éƒ¨' æš‚ä¸çº³å…¥
]
```

### 2.2 é¢œè‰²æ–¹æ¡ˆï¼ˆ7ç§é«˜å¯¹æ¯”åº¦é¢œè‰²ï¼‰

```typescript
// Tableau é£æ ¼é…è‰²æ–¹æ¡ˆ - ç»è¿‡éªŒè¯çš„æ•°æ®å¯è§†åŒ–ä¸“ä¸šé…è‰²
const ORG_COLORS = [
  '#1F77B4',  // 1. æ·±è“è‰² â€” ç¨³é‡ã€ä¸“ä¸šï¼Œé€‚åˆåŸºç¡€ä¸å…³é”®å•ä½
  '#FF7F0E',  // 2. æ©™è‰² â€” æ´»åŠ›ã€çªå‡ºçš„è§†è§‰æ•ˆæœ
  '#2CA02C',  // 3. ç»¿è‰² â€” å¹³è¡¡ã€æ˜“äºæ¥å—
  '#D62728',  // 4. æ·±çº¢è‰² â€” å¼ºçƒˆçš„å¯¹æ¯”ï¼Œå¸å¼•æ³¨æ„
  '#9467BD',  // 5. ç´«è‰² â€” ç‹¬ç‰¹ï¼Œèƒ½å¤Ÿæ¸…æ™°åˆ†è¾¨
  '#8C564B',  // 6. æ£•çº¢è‰² â€” è¾ƒä¸ºæŸ”å’Œï¼Œä¸å…¶å®ƒé¢œè‰²æœ‰æ˜æ˜¾å¯¹æ¯”
  '#E377C2',  // 7. ç²‰ç´«è‰² â€” è§†è§‰ä¸Šè¾ƒæŸ”å’Œï¼Œä½†è¶³å¤Ÿçªå‡º
]

// è‰²å½©ç‰¹ç‚¹:
// - Tableau ç»å…¸é…è‰²,ç»è¿‡å¤§é‡æ•°æ®å¯è§†åŒ–é¡¹ç›®éªŒè¯
// - ä¼˜å¼‚çš„è‰²å½©å¯¹æ¯”åº¦å’Œå¯è¯»æ€§
// - è¦†ç›–è‰²ç¯ä¸åŒåŒºåŸŸ(è“ã€æ©™ã€ç»¿ã€çº¢ã€ç´«ã€æ£•ã€ç²‰)
// - è‰²ç›²å‹å¥½è®¾è®¡
// - åœ¨ç™½è‰²å’Œæµ…è‰²èƒŒæ™¯ä¸‹éƒ½æ¸…æ™°å¯è§
```

---

## ä¸‰ã€UI å¸ƒå±€è‰å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤šç»´å¥åº·åº¦é›·è¾¾å›¾ - æœºæ„å¯¹æ¯”                                          â”‚
â”‚  (ç»¼åˆ5ä¸ªæ ¸å¿ƒç»´åº¦çš„ä¸šåŠ¡å¥åº·å¯¹æ¯”)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ¯ å¿«æ·ç­›é€‰                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ“ æˆéƒ½   â”‚  â”‚ ğŸŒ å¼‚åœ°   â”‚  â”‚ ğŸ’° é«˜ä¿è´¹ â”‚  â”‚ âš ï¸ é«˜èµ”ä»˜ â”‚     â”‚ â”‚
â”‚  â”‚  â”‚  (4ä¸ª)   â”‚  â”‚  (8ä¸ª)   â”‚  â”‚  (3ä¸ª)  â”‚  â”‚  (4ä¸ª)   â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  âš™ï¸ è‡ªå®šä¹‰é€‰æ‹©                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ” æœç´¢æœºæ„...                                           â”‚â”‚ â”‚
â”‚  â”‚  â”‚ â˜‘ å¤©åºœ  â˜‘ é«˜æ–°  â–¡ æ–°éƒ½  â–¡ é’ç¾Š  â–¡ å®œå®¾  â–¡ æ­¦ä¾¯  ...     â”‚â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  å·²é€‰æ‹©: 2/7  [æ¸…ç©º]                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ [â” å¤©åºœ Ã—] [â” é«˜æ–° Ã—]                                  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  æ·±è“è‰²      çº¢è‰²                                       â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        é›·è¾¾å›¾                                 â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚                     è¾¹è´¡ç‡                                    â”‚ â”‚
â”‚  â”‚                      â”‚                                        â”‚ â”‚
â”‚  â”‚          è´¹ç”¨ç‡ â”€â”€â”€  100  â”€â”€â”€ è¿›åº¦                            â”‚ â”‚
â”‚  â”‚                   â•±  â”‚  â•²                                     â”‚ â”‚
â”‚  â”‚                 â•±    â”‚    â•²                                   â”‚ â”‚
â”‚  â”‚               50 â”€â”€â”€â”€â”¼â”€â”€â”€â”€ 50                                 â”‚ â”‚
â”‚  â”‚             â•±        â”‚        â•²                               â”‚ â”‚
â”‚  â”‚           â•±          0          â•²                             â”‚ â”‚
â”‚  â”‚      èµ”ä»˜ç‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‡ºé™©ç‡                         â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  å›¾ä¾‹:                                                         â”‚ â”‚
â”‚  â”‚  â”â” å¤©åºœ (æ·±è“)  â”â” é«˜æ–° (çº¢è‰²)                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“Š ç»´åº¦å¯¹æ¯”è¯¦è¡¨                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚ â”‚
â”‚  â”‚  â”‚    ç»´åº¦   â”‚  å¤©åºœ  â”‚  é«˜æ–°  â”‚  æœ€ä¼˜  â”‚  æœ€å·®  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚  è¾¹è´¡ç‡   â”‚  85.2  â”‚  92.1ğŸ†â”‚  92.1  â”‚  85.2  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚           â”‚  è‰¯å¥½  â”‚  å“è¶Š  â”‚  é«˜æ–°  â”‚  å¤©åºœ  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚  è¿›åº¦è¾¾æˆ â”‚  95.0ğŸ†â”‚  88.0  â”‚  95.0  â”‚  88.0  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚           â”‚  å“è¶Š  â”‚  è‰¯å¥½  â”‚  å¤©åºœ  â”‚  é«˜æ–°  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚  èµ”ä»˜ç‡   â”‚  75.0  â”‚  80.0ğŸ†â”‚  80.0  â”‚  75.0  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚  (62%)    â”‚  è‰¯å¥½  â”‚  ä¸­ç­‰  â”‚  é«˜æ–°  â”‚  å¤©åºœ  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚  å‡ºé™©ç‡   â”‚  88.0ğŸ†â”‚  85.0  â”‚  88.0  â”‚  85.0  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚  (22%)    â”‚  è‰¯å¥½  â”‚  è‰¯å¥½  â”‚  å¤©åºœ  â”‚  é«˜æ–°  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚  è´¹ç”¨ç‡   â”‚  90.0ğŸ†â”‚  87.0  â”‚  90.0  â”‚  87.0  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚  (9.5%)   â”‚  è‰¯å¥½  â”‚  è‰¯å¥½  â”‚  å¤©åºœ  â”‚  é«˜æ–°  â”‚           â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚
â”‚  â”‚  â”‚ ç»¼åˆè¯„åˆ†  â”‚  86.6ğŸ†â”‚  86.4  â”‚  86.6  â”‚  86.4  â”‚           â”‚ â”‚
â”‚  â”‚  â”‚           â”‚  è‰¯å¥½  â”‚  è‰¯å¥½  â”‚  å¤©åºœ  â”‚  é«˜æ–°  â”‚           â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â”‚  ğŸ’¡ æç¤º: ç‚¹å‡»å¿«æ·ç­›é€‰å¯å¿«é€Ÿå¯¹æ¯”åŒç±»æœºæ„,æœ€å¤šé€‰æ‹©7ä¸ªæœºæ„              â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€å¿«æ·ç­›é€‰è®¾è®¡

### 4.1 å¿«æ·ç­›é€‰åˆ†ç±»

```typescript
interface QuickFilter {
  id: string
  label: string
  icon: string
  description: string
  organizations: string[]
  color?: string
}

const QUICK_FILTERS: QuickFilter[] = [
  {
    id: 'chengdu',
    label: 'æˆéƒ½',
    icon: 'ğŸ“',
    description: 'æˆéƒ½åœ°åŒºæœºæ„',
    organizations: ['å¤©åºœ', 'é«˜æ–°', 'æ–°éƒ½', 'é’ç¾Š']
  },
  {
    id: 'yidi',
    label: 'å¼‚åœ°',
    icon: 'ğŸŒ',
    description: 'æˆéƒ½ä»¥å¤–æœºæ„',
    organizations: ['å®œå®¾', 'æ­¦ä¾¯', 'æ³¸å·', 'å¾·é˜³', 'ä¹å±±', 'èµ„é˜³', 'è‡ªè´¡', 'è¾¾å·']
  },
  {
    id: 'high_premium',
    label: 'é«˜ä¿è´¹',
    icon: 'ğŸ’°',
    description: 'ç´¯è®¡ä¿è´¹ > 5000ä¸‡',
    // åŠ¨æ€è®¡ç®—,åŸºäºå½“å‰æ•°æ®
    organizations: [] // è¿è¡Œæ—¶å¡«å……
  },
  {
    id: 'medium_premium',
    label: 'ä¸­ä¿è´¹',
    icon: 'ğŸ’µ',
    description: '2000ä¸‡ < ä¿è´¹ â‰¤ 5000ä¸‡',
    organizations: []
  },
  {
    id: 'low_premium',
    label: 'ä½ä¿è´¹',
    icon: 'ğŸ’´',
    description: 'ä¿è´¹ â‰¤ 2000ä¸‡',
    organizations: []
  },
  {
    id: 'high_loss_ratio',
    label: 'é«˜èµ”ä»˜',
    icon: 'âš ï¸',
    description: 'èµ”ä»˜ç‡ > 70%',
    organizations: []
  },
  {
    id: 'low_loss_ratio',
    label: 'ä½èµ”ä»˜',
    icon: 'âœ…',
    description: 'èµ”ä»˜ç‡ < 50%',
    organizations: []
  },
]
```

### 4.2 å¿«æ·ç­›é€‰ UI ç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ å¿«æ·ç­›é€‰                                              â”‚
â”‚                                                          â”‚
â”‚  å¸¸ç”¨åˆ†ç±»:                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“ æˆéƒ½  â”‚  â”‚ ğŸŒ å¼‚åœ°  â”‚  â”‚ ğŸ’° ä¿è´¹  â”‚  â”‚ âš ï¸ èµ”ä»˜  â”‚    â”‚
â”‚  â”‚  (4ä¸ª)  â”‚  â”‚  (8ä¸ª)  â”‚  â”‚  åˆ†æ¡£   â”‚  â”‚  åˆ†æ¡£   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â†“ ç‚¹å‡»å±•å¼€                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ä¿è´¹åˆ†æ¡£:                                          â”‚  â”‚
â”‚  â”‚ [ ğŸ’° é«˜ä¿è´¹ (>5000ä¸‡) ] åŒ…å«: å¤©åºœã€é«˜æ–°ã€å®œå®¾      â”‚  â”‚
â”‚  â”‚ [ ğŸ’µ ä¸­ä¿è´¹ (2000-5000ä¸‡) ] åŒ…å«: æ­¦ä¾¯ã€æ³¸å·       â”‚  â”‚
â”‚  â”‚ [ ğŸ’´ ä½ä¿è´¹ (<2000ä¸‡) ] åŒ…å«: æ–°éƒ½ã€é’ç¾Šã€å¾·é˜³...  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 å¿«æ·ç­›é€‰äº¤äº’é€»è¾‘

```typescript
// ç‚¹å‡»å¿«æ·ç­›é€‰
function handleQuickFilter(filterId: string) {
  const filter = QUICK_FILTERS.find(f => f.id === filterId)

  // è·å–è¯¥ç­›é€‰ä¸‹çš„æœºæ„
  const orgs = filter.organizations

  // å¦‚æœè¶…è¿‡7ä¸ª,å–å‰7ä¸ª
  const selected = orgs.slice(0, 7)

  // æ›¿æ¢å½“å‰é€‰æ‹©
  setSelectedOrganizations(selected)

  // æç¤ºç”¨æˆ·
  if (orgs.length > 7) {
    toast.info(`${filter.label}åŒ…å«${orgs.length}ä¸ªæœºæ„,å·²é€‰æ‹©å‰7ä¸ª`)
  }
}
```

---

## äº”ã€æœºæ„é€‰æ‹©å™¨è®¾è®¡

### 5.1 è‡ªå®šä¹‰é€‰æ‹©å™¨ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ è‡ªå®šä¹‰é€‰æ‹©                                          â”‚
â”‚                                                        â”‚
â”‚  ğŸ” [æœç´¢æœºæ„åç§°...]                                   â”‚
â”‚                                                        â”‚
â”‚  å…¨éƒ¨æœºæ„ (12ä¸ª):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â˜‘ å¤©åºœ   â˜‘ é«˜æ–°   â–¡ æ–°éƒ½   â–¡ é’ç¾Š              â”‚ â”‚
â”‚  â”‚  â–¡ å®œå®¾   â–¡ æ­¦ä¾¯   â–¡ æ³¸å·   â–¡ å¾·é˜³              â”‚ â”‚
â”‚  â”‚  â–¡ ä¹å±±   â–¡ èµ„é˜³   â–¡ è‡ªè´¡   â–¡ è¾¾å·              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  [ å…¨é€‰ ]  [ æ¸…ç©º ]                                    â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 å·²é€‰æœºæ„å±•ç¤ºï¼ˆå¸¦é¢œè‰²æ ‡è¯†ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å·²é€‰æ‹©: 2/7  [æ¸…ç©ºå…¨éƒ¨]                                â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [â”â” å¤©åºœ Ã—]  [â”â” é«˜æ–° Ã—]                         â”‚ â”‚
â”‚  â”‚   #1565C0     #D32F2F                            â”‚ â”‚
â”‚  â”‚   æ·±è“è‰²       çº¢è‰²                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  è¯´æ˜:                                                 â”‚
â”‚  - é¢œè‰²æ¡ä¸é›·è¾¾å›¾æŠ˜çº¿é¢œè‰²ä¸€è‡´                           â”‚
â”‚  - ç‚¹å‡» Ã— å¯ç§»é™¤è¯¥æœºæ„                                 â”‚
â”‚  - é¢œè‰²æŒ‰é€‰æ‹©é¡ºåºåˆ†é…                                  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 é€‰æ‹©è§„åˆ™

```typescript
// çº¦æŸ
const MAX_ORGANIZATIONS = 7
const MIN_ORGANIZATIONS = 1

// äº¤äº’è§„åˆ™
1. å‹¾é€‰æœºæ„:
   - å¦‚æœå·²é€‰ < 7: æ·»åŠ åˆ°å·²é€‰åˆ—è¡¨
   - å¦‚æœå·²é€‰ = 7: æç¤º"æœ€å¤šé€‰æ‹©7ä¸ªæœºæ„",ä¸å…è®¸ç»§ç»­é€‰æ‹©

2. å–æ¶ˆå‹¾é€‰:
   - ä»å·²é€‰åˆ—è¡¨ç§»é™¤
   - å¦‚æœå·²é€‰ = 0: æç¤º"è‡³å°‘é€‰æ‹©1ä¸ªæœºæ„"

3. å…¨é€‰:
   - å¦‚æœæœºæ„æ€»æ•° â‰¤ 7: å…¨é€‰
   - å¦‚æœæœºæ„æ€»æ•° > 7: é€‰æ‹©å‰7ä¸ª,æç¤º"æœ€å¤š7ä¸ª"

4. æœç´¢:
   - å®æ—¶è¿‡æ»¤æœºæ„åˆ—è¡¨
   - é«˜äº®åŒ¹é…çš„æ–‡å­—

5. è¶…é™å¤„ç†:
   - å·²é€‰7ä¸ªæ—¶,æœªé€‰æœºæ„ç½®ç°
   - æ‚¬åœæ˜¾ç¤ºæç¤º:"å·²è¾¾åˆ°æœ€å¤§é€‰æ‹©æ•°é‡(7ä¸ª)"
```

---

## å…­ã€æ•°æ®ç»“æ„è®¾è®¡

### 6.1 ç»„ä»¶ Props

```typescript
interface MultiDimensionRadarProps {
  /** å½“å‰ç­›é€‰æ¡ä»¶(æ—¶é—´ã€äº§å“ç­‰,ä¸åŒ…æ‹¬æœºæ„) */
  filters: FilterState
  /** è‡ªå®šä¹‰ç±»å */
  className?: string
}

interface MultiDimensionRadarState {
  /** å·²é€‰æœºæ„åˆ—è¡¨ */
  selectedOrganizations: string[]
  /** æœºæ„KPIæ•°æ®æ˜ å°„ */
  orgKPIs: Map<string, KPIResult>
  /** åŠ è½½çŠ¶æ€ */
  loading: boolean
}
```

### 6.2 é›·è¾¾æ•°æ®ç»“æ„

```typescript
interface RadarDataPoint {
  // ç»´åº¦ä¿¡æ¯
  dimension: string        // ç®€ç§° "è¾¹è´¡ç‡"
  fullLabel: string        // å…¨ç§°
  dimensionKey: string     // key

  // åŠ¨æ€æœºæ„è¯„åˆ†å­—æ®µ
  [orgName: string]: number | string
  // ä¾‹å¦‚:
  // å¤©åºœ: 85.2
  // é«˜æ–°: 92.1

  // å…ƒæ•°æ®
  unit: string
  description: string

  // è¾…åŠ©æ•°æ®(ç”¨äºTooltip)
  rawValues: { [orgName: string]: number }  // åŸå§‹å€¼
  levels: { [orgName: string]: string }     // ç­‰çº§
  colors: { [orgName: string]: string }     // é¢œè‰²
}

// ç¤ºä¾‹
const radarData: RadarDataPoint[] = [
  {
    dimension: 'è¾¹è´¡ç‡',
    fullLabel: 'æ»¡æœŸè¾¹é™…è´¡çŒ®ç‡',
    dimensionKey: 'contribution_margin_ratio',

    // æœºæ„è¯„åˆ†
    å¤©åºœ: 85.2,
    é«˜æ–°: 92.1,

    // åŸå§‹å€¼
    rawValues: {
      å¤©åºœ: 0.125,  // 12.5%
      é«˜æ–°: 0.138,  // 13.8%
    },

    // ç­‰çº§
    levels: {
      å¤©åºœ: 'è‰¯å¥½',
      é«˜æ–°: 'å“è¶Š',
    },

    // é¢œè‰²
    colors: {
      å¤©åºœ: '#4CAF50',
      é«˜æ–°: '#2E7D32',
    },

    unit: '%',
    description: 'åæ˜ ä¸šåŠ¡ç›ˆåˆ©èƒ½åŠ›'
  },
  // ... å…¶ä»–4ä¸ªç»´åº¦
]
```

### 6.3 è·å–æœºæ„KPIçš„å·¥å…·å‡½æ•°

```typescript
/**
 * è·å–æŒ‡å®šæœºæ„çš„KPIæ•°æ®
 * @param orgName æœºæ„åç§°
 * @param filters å½“å‰ç­›é€‰æ¡ä»¶(ä¸å«æœºæ„)
 */
async function getKPIByOrganization(
  orgName: string,
  filters: FilterState
): Promise<KPIResult> {
  // æ„é€ æ–°çš„ç­›é€‰æ¡ä»¶,é”å®šä¸‰çº§æœºæ„
  const orgFilters = {
    ...filters,
    thirdLevelOrg: [orgName]  // ä»…æ­¤æœºæ„
  }

  // è°ƒç”¨ç°æœ‰ KPI API
  const response = await fetch('/api/kpi', {
    method: 'POST',
    body: JSON.stringify(orgFilters)
  })

  return await response.json()
}

/**
 * æ‰¹é‡è·å–å¤šä¸ªæœºæ„çš„KPI
 */
async function getKPIsForOrganizations(
  orgNames: string[],
  filters: FilterState
): Promise<Map<string, KPIResult>> {
  const promises = orgNames.map(org =>
    getKPIByOrganization(org, filters)
      .then(kpi => [org, kpi] as [string, KPIResult])
  )

  const results = await Promise.all(promises)
  return new Map(results)
}
```

---

## ä¸ƒã€é›·è¾¾å›¾æ¸²æŸ“é€»è¾‘

### 7.1 å¤šæŠ˜çº¿æ¸²æŸ“

```typescript
function renderRadarLines(
  selectedOrgs: string[],
  orgKPIs: Map<string, KPIResult>
) {
  return selectedOrgs.map((orgName, index) => {
    const kpi = orgKPIs.get(orgName)
    if (!kpi) return null

    const color = ORG_COLORS[index % ORG_COLORS.length]

    return (
      <Radar
        key={orgName}
        name={orgName}
        dataKey={orgName}  // åŠ¨æ€ dataKey
        stroke={color}
        fill={color}
        fillOpacity={0.08}  // å¾ˆä½çš„é€æ˜åº¦,é¿å…é‡å åŒºåŸŸè¿‡æš—
        strokeWidth={2.5}
        dot={{
          r: 5,
          fill: color,
          strokeWidth: 0,
        }}
        activeDot={{
          r: 7,
          fill: color,
          stroke: '#fff',
          strokeWidth: 2,
        }}
      />
    )
  })
}
```

### 7.2 Tooltip è®¾è®¡

```typescript
const CustomTooltip = ({ active, payload }: any) => {
  if (!active || !payload || !payload.length) return null

  const dimension = payload[0].payload  // è·å–ç»´åº¦æ•°æ®

  return (
    <div className="rounded-lg border bg-white p-4 shadow-xl">
      {/* ç»´åº¦åç§° */}
      <p className="mb-3 text-sm font-semibold text-slate-800">
        {dimension.fullLabel}
      </p>

      {/* å„æœºæ„æ•°æ® */}
      <div className="space-y-2">
        {payload.map((entry: any) => (
          <div key={entry.name} className="flex items-center gap-3">
            {/* é¢œè‰²æ¡ */}
            <div
              className="h-3 w-3 rounded-full"
              style={{ backgroundColor: entry.stroke }}
            />

            {/* æœºæ„å */}
            <span className="text-xs font-medium text-slate-700 w-12">
              {entry.name}
            </span>

            {/* è¯„åˆ† */}
            <span className="text-xs font-bold text-slate-900">
              {entry.value.toFixed(1)}
            </span>

            {/* åŸå§‹å€¼ */}
            <span className="text-xs text-slate-500">
              ({formatPercent(dimension.rawValues[entry.name], 2)})
            </span>

            {/* ç­‰çº§ */}
            <span
              className="text-xs font-medium"
              style={{ color: dimension.colors[entry.name] }}
            >
              {dimension.levels[entry.name]}
            </span>
          </div>
        ))}
      </div>

      {/* è¯¥ç»´åº¦çš„æœ€ä¼˜æœºæ„ */}
      <div className="mt-3 border-t pt-2">
        <p className="text-xs text-slate-500">
          æœ€ä¼˜: {getBestOrgForDimension(dimension)} ğŸ†
        </p>
      </div>
    </div>
  )
}
```

---

## å…«ã€å¯¹æ¯”è¡¨è®¾è®¡

### 8.1 è¡¨æ ¼ç»“æ„

```typescript
interface ComparisonTableRow {
  dimension: string           // ç»´åº¦åç§°
  dimensionKey: string        // ç»´åº¦key
  orgScores: {                // å„æœºæ„è¯„åˆ†
    [orgName: string]: {
      score: number           // è¯„åˆ† 0-100
      rawValue: number        // åŸå§‹å€¼
      level: string           // ç­‰çº§
      color: string           // é¢œè‰²
      isBest: boolean         // æ˜¯å¦æœ€ä¼˜
    }
  }
  bestOrg: string            // æœ€ä¼˜æœºæ„
  worstOrg: string           // æœ€å·®æœºæ„
}
```

### 8.2 è¡¨æ ¼æ¸²æŸ“

```tsx
<table className="w-full border-collapse">
  <thead>
    <tr className="border-b-2 border-slate-300 bg-slate-50">
      <th className="p-3 text-left">ç»´åº¦</th>
      {selectedOrgs.map((org, idx) => (
        <th key={org} className="p-3 text-center">
          <div className="flex items-center justify-center gap-2">
            <div
              className="h-3 w-8 rounded"
              style={{ backgroundColor: ORG_COLORS[idx] }}
            />
            <span>{org}</span>
          </div>
        </th>
      ))}
      <th className="p-3 text-center">æœ€ä¼˜</th>
      <th className="p-3 text-center">æœ€å·®</th>
    </tr>
  </thead>

  <tbody>
    {comparisonData.map(row => (
      <tr key={row.dimensionKey} className="border-b">
        <td className="p-3 font-medium">{row.dimension}</td>

        {selectedOrgs.map(org => {
          const data = row.orgScores[org]
          return (
            <td key={org} className="p-3 text-center">
              <div className="font-bold">{data.score.toFixed(1)}</div>
              <div className="text-xs text-slate-500">
                {formatPercent(data.rawValue, 1)}
              </div>
              <div
                className="text-xs font-medium"
                style={{ color: data.color }}
              >
                {data.level} {data.isBest && 'ğŸ†'}
              </div>
            </td>
          )
        })}

        <td className="p-3 text-center text-sm font-medium text-green-700">
          {row.bestOrg}
        </td>
        <td className="p-3 text-center text-sm font-medium text-red-700">
          {row.worstOrg}
        </td>
      </tr>
    ))}

    {/* ç»¼åˆè¯„åˆ†è¡Œ */}
    <tr className="border-t-2 bg-slate-50 font-bold">
      <td className="p-3">ç»¼åˆè¯„åˆ†</td>
      {selectedOrgs.map(org => (
        <td key={org} className="p-3 text-center">
          {calculateOverallScore(org).toFixed(1)}
        </td>
      ))}
      <td className="p-3 text-center text-green-700">
        {getBestOverallOrg()}
      </td>
      <td className="p-3 text-center text-red-700">
        {getWorstOverallOrg()}
      </td>
    </tr>
  </tbody>
</table>
```

---

## ä¹ã€å¿«æ·ç­›é€‰å®ç°ç»†èŠ‚

### 9.1 åŠ¨æ€è®¡ç®—ä¿è´¹åˆ†æ¡£

```typescript
/**
 * æ ¹æ®å½“å‰æ•°æ®åŠ¨æ€è®¡ç®—ä¿è´¹åˆ†æ¡£
 */
async function calculatePremiumTiers(
  filters: FilterState
): Promise<{ [tier: string]: string[] }> {
  // 1. è·å–æ‰€æœ‰æœºæ„çš„ç´¯è®¡ä¿è´¹
  const allOrgs = ALL_ORGANIZATIONS
  const premiumMap = new Map<string, number>()

  for (const org of allOrgs) {
    const kpi = await getKPIByOrganization(org, filters)
    premiumMap.set(org, kpi.totalPremium || 0)
  }

  // 2. åˆ†æ¡£
  const high: string[] = []
  const medium: string[] = []
  const low: string[] = []

  premiumMap.forEach((premium, org) => {
    if (premium > 50_000_000) {  // > 5000ä¸‡
      high.push(org)
    } else if (premium > 20_000_000) {  // 2000-5000ä¸‡
      medium.push(org)
    } else {  // < 2000ä¸‡
      low.push(org)
    }
  })

  return { high, medium, low }
}
```

### 9.2 åŠ¨æ€è®¡ç®—èµ”ä»˜ç‡åˆ†æ¡£

```typescript
async function calculateLossRatioTiers(
  filters: FilterState
): Promise<{ high: string[], low: string[] }> {
  const allOrgs = ALL_ORGANIZATIONS
  const lossRatioMap = new Map<string, number>()

  for (const org of allOrgs) {
    const kpi = await getKPIByOrganization(org, filters)
    lossRatioMap.set(org, kpi.lossRatio || 0)
  }

  const high: string[] = []
  const low: string[] = []

  lossRatioMap.forEach((ratio, org) => {
    if (ratio > 0.7) {  // > 70%
      high.push(org)
    } else if (ratio < 0.5) {  // < 50%
      low.push(org)
    }
  })

  return { high, low }
}
```

### 9.3 å¿«æ·ç­›é€‰æŒ‰é’®UI

```tsx
<div className="flex flex-wrap gap-2">
  {/* åœ°åŸŸç­›é€‰ */}
  <QuickFilterButton
    icon="ğŸ“"
    label="æˆéƒ½"
    count={4}
    description="å¤©åºœã€é«˜æ–°ã€æ–°éƒ½ã€é’ç¾Š"
    onClick={() => handleQuickFilter('chengdu')}
  />

  <QuickFilterButton
    icon="ğŸŒ"
    label="å¼‚åœ°"
    count={8}
    description="æˆéƒ½ä»¥å¤–çš„8ä¸ªæœºæ„"
    onClick={() => handleQuickFilter('yidi')}
  />

  {/* ä¿è´¹åˆ†æ¡£ */}
  <QuickFilterButton
    icon="ğŸ’°"
    label="é«˜ä¿è´¹"
    count={highPremiumOrgs.length}
    description={`> 5000ä¸‡: ${highPremiumOrgs.join('ã€')}`}
    onClick={() => handleQuickFilter('high_premium')}
  />

  {/* èµ”ä»˜ç‡åˆ†æ¡£ */}
  <QuickFilterButton
    icon="âš ï¸"
    label="é«˜èµ”ä»˜"
    count={highLossRatioOrgs.length}
    description={`> 70%: ${highLossRatioOrgs.join('ã€')}`}
    onClick={() => handleQuickFilter('high_loss_ratio')}
  />
</div>
```

---

## åã€æŠ€æœ¯å®ç°è¦ç‚¹

### 10.1 æ•°æ®æµ

```
ç”¨æˆ·è§¦å‘ (å¿«æ·ç­›é€‰ / è‡ªå®šä¹‰é€‰æ‹©)
  â†“
æ›´æ–° selectedOrganizations[]
  â†“
useEffect: ç›‘å¬ selectedOrganizations å˜åŒ–
  â†“
å¹¶è¡Œè·å–æ‰€æœ‰æœºæ„çš„ KPI
  â†“
Promise.all([
  getKPIByOrganization('å¤©åºœ', filters),
  getKPIByOrganization('é«˜æ–°', filters),
  ...
])
  â†“
è½¬æ¢ä¸ºé›·è¾¾è¯„åˆ†
  â†“
åˆå¹¶ä¸º radarData ç»“æ„
  â†“
æ¸²æŸ“é›·è¾¾å›¾ + å¯¹æ¯”è¡¨
```

### 10.2 æ€§èƒ½ä¼˜åŒ–

```typescript
// 1. ç¼“å­˜æœºæ„KPI
const orgKPIsCache = useMemo(() => {
  // åªåœ¨ selectedOrganizations æˆ– filters å˜åŒ–æ—¶é‡æ–°è®¡ç®—
  return getKPIsForOrganizations(selectedOrganizations, filters)
}, [selectedOrganizations, filters])

// 2. é˜²æŠ–å¿«æ·ç­›é€‰
const debouncedQuickFilter = useMemo(
  () => debounce(handleQuickFilter, 300),
  []
)

// 3. è™šæ‹Ÿæ»šåŠ¨(å¦‚æœæœºæ„åˆ—è¡¨å¾ˆé•¿)
import { useVirtualizer } from '@tanstack/react-virtual'

// 4. æ‡’åŠ è½½å¯¹æ¯”è¡¨(æŠ˜å é¢æ¿)
const [showComparisonTable, setShowComparisonTable] = useState(false)
```

### 10.3 é”™è¯¯å¤„ç†

```typescript
// 1. æœºæ„æ— æ•°æ®
if (!kpi || kpi.totalPremium === 0) {
  return {
    ...defaultKPI,
    _noData: true  // æ ‡è®°æ— æ•°æ®
  }
}

// 2. API å¤±è´¥é‡è¯•
async function getKPIWithRetry(
  orgName: string,
  filters: FilterState,
  retries = 3
): Promise<KPIResult> {
  try {
    return await getKPIByOrganization(orgName, filters)
  } catch (error) {
    if (retries > 0) {
      await delay(1000)
      return getKPIWithRetry(orgName, filters, retries - 1)
    }
    throw error
  }
}

// 3. éƒ¨åˆ†å¤±è´¥å®¹é”™
const results = await Promise.allSettled(
  selectedOrgs.map(org => getKPIByOrganization(org, filters))
)

const successfulResults = results
  .filter(r => r.status === 'fulfilled')
  .map(r => r.value)
```

---

## åä¸€ã€è¾¹ç•Œæƒ…å†µå¤„ç†

### 11.1 æ— æ•°æ®åœºæ™¯

```typescript
// åœºæ™¯1: æŸä¸ªæœºæ„æ— æ•°æ®
if (orgKPI._noData) {
  // é›·è¾¾å›¾è¯¥æœºæ„æ‰€æœ‰ç»´åº¦æ˜¾ç¤ºä¸º 0
  // å›¾ä¾‹æ ‡æ³¨ "å¤©åºœ (æ— æ•°æ®)"
  // å¯¹æ¯”è¡¨è¯¥æœºæ„åˆ—æ˜¾ç¤º "-"
}

// åœºæ™¯2: æ‰€æœ‰æœºæ„éƒ½æ— æ•°æ®
if (allOrgsNoData) {
  return (
    <EmptyState
      icon="ğŸ“Š"
      message="å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ— æœºæ„æ•°æ®"
      action={
        <Button onClick={resetFilters}>
          é‡ç½®ç­›é€‰æ¡ä»¶
        </Button>
      }
    />
  )
}

// åœºæ™¯3: æœªé€‰æ‹©ä»»ä½•æœºæ„
if (selectedOrganizations.length === 0) {
  return (
    <EmptyState
      icon="ğŸ¢"
      message="è¯·é€‰æ‹©è¦å¯¹æ¯”çš„æœºæ„"
      action={
        <Button onClick={() => setShowOrgSelector(true)}>
          é€‰æ‹©æœºæ„
        </Button>
      }
    />
  )
}
```

### 11.2 è¶…é™æç¤º

```typescript
// é€‰æ‹©ç¬¬8ä¸ªæœºæ„æ—¶
if (selectedOrganizations.length >= 7) {
  toast.warning('æœ€å¤šé€‰æ‹©7ä¸ªæœºæ„è¿›è¡Œå¯¹æ¯”', {
    description: 'è¯·å…ˆç§»é™¤éƒ¨åˆ†æœºæ„åå†æ·»åŠ æ–°æœºæ„'
  })
  return
}
```

### 11.3 å•æœºæ„åœºæ™¯

```typescript
// åªé€‰1ä¸ªæœºæ„æ—¶
if (selectedOrganizations.length === 1) {
  // é›·è¾¾å›¾æ­£å¸¸æ˜¾ç¤º(å•æ¡æŠ˜çº¿)
  // å¯¹æ¯”è¡¨åªæœ‰1åˆ—æ•°æ®
  // æœ€ä¼˜/æœ€å·®åˆ—ä¸æ˜¾ç¤º(æ²¡æœ‰å¯¹æ¯”æ„ä¹‰)
  // æç¤º: "è‡³å°‘é€‰æ‹©2ä¸ªæœºæ„æ‰èƒ½è¿›è¡Œå¯¹æ¯”"
}
```

---

## åäºŒã€è§†è§‰è®¾è®¡ç»†èŠ‚

### 12.1 é¢œè‰²å¯¹æ¯”åº¦æµ‹è¯•

```typescript
// Tableau é…è‰²çš„å¯¹æ¯”åº¦ç‰¹æ€§
const COLOR_PROPERTIES = [
  { color: '#1F77B4', name: 'æ·±è“è‰²', lightness: 50, saturation: 68 },
  { color: '#FF7F0E', name: 'æ©™è‰²',   lightness: 56, saturation: 100 },
  { color: '#2CA02C', name: 'ç»¿è‰²',   lightness: 45, saturation: 58 },
  { color: '#D62728', name: 'æ·±çº¢è‰²', lightness: 49, saturation: 71 },
  { color: '#9467BD', name: 'ç´«è‰²',   lightness: 56, saturation: 48 },
  { color: '#8C564B', name: 'æ£•çº¢è‰²', lightness: 43, saturation: 30 },
  { color: '#E377C2', name: 'ç²‰ç´«è‰²', lightness: 71, saturation: 63 },
]

// è¿™å¥—é…è‰²çš„ä¼˜åŠ¿:
// 1. ç»è¿‡ Tableau å›¢é˜Ÿå¤šå¹´ä¼˜åŒ–,åœ¨å„ç§èƒŒæ™¯ä¸‹éƒ½æœ‰è‰¯å¥½è¡¨ç°
// 2. è‰²ç›¸åˆ†å¸ƒå‡åŒ€,ä»»æ„ä¸¤ç§é¢œè‰²éƒ½æœ‰æ˜æ˜¾åŒºåˆ†
// 3. äº®åº¦å˜åŒ–åˆç†,é¿å…æŸäº›é¢œè‰²è¿‡äº®æˆ–è¿‡æš—
// 4. é€šè¿‡è‰²ç›²æ¨¡æ‹Ÿå™¨æµ‹è¯•(çº¢ç»¿è‰²ç›²ã€è“é»„è‰²ç›²éƒ½èƒ½åŒºåˆ†)
// 5. ç¬¦åˆ WCAG AA çº§å¯è®¿é—®æ€§æ ‡å‡†
```

### 12.2 å“åº”å¼å¸ƒå±€

```css
/* æ¡Œé¢ç«¯ */
@media (min-width: 1024px) {
  .radar-container {
    grid-template-columns: 300px 1fr;
    /* å·¦ä¾§æœºæ„é€‰æ‹©å™¨, å³ä¾§é›·è¾¾å›¾ */
  }

  .comparison-table {
    overflow-x: auto;
    /* æ”¯æŒæ¨ªå‘æ»šåŠ¨ */
  }
}

/* å¹³æ¿ç«¯ */
@media (min-width: 768px) and (max-width: 1023px) {
  .radar-container {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
    /* ä¸Šä¸‹å¸ƒå±€ */
  }
}

/* ç§»åŠ¨ç«¯ */
@media (max-width: 767px) {
  .quick-filters {
    flex-direction: column;
    /* å¿«æ·ç­›é€‰å‚ç›´æ’åˆ— */
  }

  .radar-chart {
    height: 300px;
    /* é™ä½é«˜åº¦ */
  }

  .comparison-table {
    font-size: 12px;
    /* ç¼©å°å­—ä½“ */
  }
}
```

---

## åä¸‰ã€å¼€å‘æ£€æŸ¥æ¸…å•

### 13.1 éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

- [ ] `src/components/features/multi-dimension-radar.tsx`
  - é‡æ„ç»„ä»¶é€»è¾‘
  - æ”¯æŒå¤šæœºæ„å¯¹æ¯”
  - ç§»é™¤æ—¶é—´å¯¹æ¯”ç›¸å…³ä»£ç 

- [ ] `src/hooks/use-kpi-by-organization.ts` (æ–°å»º)
  - å®ç° `useKPIByOrganization` hook
  - å®ç° `useKPIsForOrganizations` hook
  - å®ç°å¿«æ·ç­›é€‰åŠ¨æ€è®¡ç®—

- [ ] `src/components/features/organization-selector.tsx` (æ–°å»º)
  - æœºæ„é€‰æ‹©å™¨ç»„ä»¶
  - å¿«æ·ç­›é€‰æŒ‰é’®
  - æœç´¢åŠŸèƒ½

- [ ] `src/components/features/radar-comparison-table.tsx` (æ–°å»º)
  - å¯¹æ¯”è¡¨ç»„ä»¶

- [ ] `src/app/page.tsx`
  - æ›´æ–°é›·è¾¾å›¾é›†æˆæ–¹å¼

### 13.2 éœ€è¦æ›´æ–°çš„æ–‡æ¡£

- [ ] `å¼€å‘æ–‡æ¡£/01_features/F009_multi_dimension_radar/README.md`
  - æ›´æ–°åŠŸèƒ½æè¿°
  - æ›´æ–°ä½¿ç”¨æŒ‡å—
  - æ·»åŠ å¿«æ·ç­›é€‰è¯´æ˜

- [ ] `å¼€å‘æ–‡æ¡£/01_features/F009_multi_dimension_radar/TECHNICAL.md` (æ–°å»º)
  - è¯¦ç»†æŠ€æœ¯è®¾è®¡
  - API æ¥å£è¯´æ˜
  - æ•°æ®æµå›¾

---

## åå››ã€æµ‹è¯•åœºæ™¯

### 14.1 åŠŸèƒ½æµ‹è¯•

- [ ] é€‰æ‹©å•ä¸ªæœºæ„,é›·è¾¾å›¾æ­£ç¡®æ˜¾ç¤º
- [ ] é€‰æ‹©2ä¸ªæœºæ„,é›·è¾¾å›¾æ­£ç¡®å¯¹æ¯”
- [ ] é€‰æ‹©7ä¸ªæœºæ„,é›·è¾¾å›¾æ­£ç¡®æ˜¾ç¤º
- [ ] å°è¯•é€‰æ‹©ç¬¬8ä¸ª,æ­£ç¡®é˜»æ­¢å¹¶æç¤º
- [ ] å¿«æ·ç­›é€‰"æˆéƒ½"æ­£ç¡®é€‰æ‹©4ä¸ªæœºæ„
- [ ] å¿«æ·ç­›é€‰"å¼‚åœ°"æ­£ç¡®é€‰æ‹©å‰7ä¸ªæœºæ„å¹¶æç¤º
- [ ] æœç´¢æœºæ„åŠŸèƒ½æ­£ç¡®è¿‡æ»¤
- [ ] æ¸…ç©ºæŒ‰é’®æ­£ç¡®å·¥ä½œ

### 14.2 æ•°æ®å‡†ç¡®æ€§æµ‹è¯•

- [ ] å„æœºæ„çš„5ä¸ªç»´åº¦è¯„åˆ†è®¡ç®—æ­£ç¡®
- [ ] å¯¹æ¯”è¡¨ä¸­çš„æœ€ä¼˜/æœ€å·®æ ‡æ³¨æ­£ç¡®
- [ ] ç»¼åˆè¯„åˆ†è®¡ç®—æ­£ç¡®
- [ ] ä¿è´¹åˆ†æ¡£åŠ¨æ€è®¡ç®—æ­£ç¡®
- [ ] èµ”ä»˜ç‡åˆ†æ¡£åŠ¨æ€è®¡ç®—æ­£ç¡®

### 14.3 äº¤äº’æµ‹è¯•

- [ ] æ‚¬åœé›·è¾¾å›¾æ­£ç¡®æ˜¾ç¤º Tooltip
- [ ] Tooltip æ˜¾ç¤ºæ‰€æœ‰æœºæ„æ•°æ®
- [ ] ç‚¹å‡»å›¾ä¾‹éšè—/æ˜¾ç¤ºå¯¹åº”æŠ˜çº¿
- [ ] å¯¹æ¯”è¡¨æ”¯æŒæ¨ªå‘æ»šåŠ¨
- [ ] ç§»åŠ¨ç«¯å¸ƒå±€æ­£ç¡®é€‚é…

### 14.4 è¾¹ç•Œæµ‹è¯•

- [ ] æŸæœºæ„æ— æ•°æ®,æ­£ç¡®æ˜¾ç¤ºå ä½
- [ ] æ‰€æœ‰æœºæ„æ— æ•°æ®,æ˜¾ç¤ºç©ºçŠ¶æ€
- [ ] æœªé€‰æ‹©æœºæ„,æ˜¾ç¤ºæç¤º
- [ ] ç½‘ç»œé”™è¯¯,æ­£ç¡®é‡è¯•å’Œæç¤º

---

## åäº”ã€åç»­ä¼˜åŒ–æ–¹å‘

### 15.1 çŸ­æœŸ (P1)

- [ ] ä¿å­˜ç”¨æˆ·çš„æœºæ„é€‰æ‹©åå¥½(localStorage)
- [ ] å¯¼å‡ºé›·è¾¾å›¾ä¸ºå›¾ç‰‡
- [ ] å¯¼å‡ºå¯¹æ¯”è¡¨ä¸º Excel
- [ ] æ·»åŠ "æ¨èå¯¹æ¯”"åŠŸèƒ½(æ™ºèƒ½æ¨èç›¸ä¼¼æœºæ„)

### 15.2 ä¸­æœŸ (P2)

- [ ] æ”¯æŒè‡ªå®šä¹‰å¿«æ·ç­›é€‰
- [ ] å¢åŠ æ—¶é—´ç»´åº¦(æ¨ªè½´æœºæ„,çºµè½´æ—¶é—´)
- [ ] æ™ºèƒ½æ´å¯Ÿ:è‡ªåŠ¨ç”Ÿæˆå¯¹æ¯”åˆ†ææŠ¥å‘Š
- [ ] æ”¯æŒä¿å­˜å¤šä¸ªå¯¹æ¯”æ–¹æ¡ˆ

### 15.3 é•¿æœŸ (P3)

- [ ] 3D é›·è¾¾å›¾å¯è§†åŒ–
- [ ] AI é©±åŠ¨çš„æœºæ„å¥åº·åº¦é¢„æµ‹
- [ ] æœºæ„èšç±»åˆ†æ
- [ ] å†å²è¶‹åŠ¿:æœºæ„æ’åå˜åŒ–è½¨è¿¹

---

**è‰å›¾ç‰ˆæœ¬**: v2.0
**ç»˜åˆ¶æ—¥æœŸ**: 2025-11-02
**ç»˜åˆ¶è€…**: Claude Code
**å®¡æ ¸çŠ¶æ€**: å¾…ç”¨æˆ·ç¡®è®¤
