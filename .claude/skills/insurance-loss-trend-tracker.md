---
name: insurance-loss-trend-tracker
description: Use when analyzing multi-week loss ratio trends with cumulative data requiring weekly delta calculations, tracking problem evolution through 3-layer drill-down (org->business->coverage), generating McKinsey-level insights with causal decomposition (claim frequency, average severity, case count) and actionable recommendations
---

# 车险赔付率趋势追踪器 V2.0

## 概述

基于多周累计数据追踪赔付率问题演变,通过**当周发生值计算**和**3层渐进式下钻**定位核心问题,生成**麦肯锡级专业分析报告**。

**核心能力**:
- ✅ 智能周期管理(自动推断 + 手动覆盖)
- ✅ 当周发生值计算(差值法,容错处理)
- ✅ 多指标因果分解(赔付率←出险率×案均赔款)
- ✅ 异常波动检测(单周暴涨、连续恶化、趋势反转)
- ✅ 麦肯锡级报告(金字塔原理、So What、可落地建议)

**报告受众**: 高管、业务负责人、车险经营专家

## 何时使用

**适用场景**:
- 分析5周(可配置)赔付率演变趋势
- 追踪特定问题的恶化/改善轨迹
- 为领导层生成专业决策支持报告
- 定位需要立即干预的核心风险点

**不适用**:
- 单周快照分析 → 使用 `insurance-org-dimension-drilldown`
- 新能源货车专项 → 使用 `insurance-new-energy-truck-analyzer` (待开发)
- 保费达成分析 → 其他技能

## 关键概念

### 1. 累计数据 vs 当周发生值

**数据源特征**: CSV文件存储的是**年度累计数据**,不是当周发生数据

**当周发生值计算**:
```
当周值 = 本周累计 - 上周累计
```

**示例**:
- 第44周累计赔款: 5000万
- 第43周累计赔款: 4800万
- 第44周当周赔款: 5000 - 4800 = 200万

**需要当周值的指标**:
- 已报告赔款(当周新增赔款)
- 满期保费(当周满期保费)
- 签单保费(当周新签保费)
- 赔案件数(当周新增案件)
- 案均赔款(当周赔款÷当周案件数)

**只用累计值的指标**:
- 赔付率(累计赔款÷累计满期保费)

### 2. 周期管理(智能推断 + 手动覆盖)

**默认行为**:
- 自动扫描`处理后/`目录,找到最新周(如第44周)
- 自动回溯5周(第40-44周)
- 自动加载前一周(第39周)用于计算第40周当周值

**手动覆盖**:
```python
# 在脚本开头修改这两个参数
START_WEEK = 35  # 指定起始周
END_WEEK = 39    # 指定结束周
```

**前一周缺失处理**:
- 如果第39周文件不存在,第40周当周值标记为"N/A"
- 不会报错,继续生成报告

### 3. 多指标因果分解

赔付率变化可分解为3个驱动因素:

```
赔付率上升 ← 3个驱动因素:
  1. 出险率上升(更多保单出险)
  2. 案均赔款增长(单案赔款变大)
  3. 赔案件数增加(绝对量增长)
```

**报告中的展示**:
```markdown
**为什么赔付率上升?** 通过拆解发现:
1. 出险率上升: 45.2% → 48.7% (↑3.5pp) - 风险选择失控
2. 案均赔款增长: 8,520 → 9,340元 (↑9.6%) - 定损松懈或欺诈
3. 赔案件数增加: 1,234 → 1,456件 (↑18.0%) - 规模扩张
```

### 4. 异常波动检测

**触发条件**(满足任一即展开当周明细):

| 条件 | 说明 | 示例 |
|------|------|------|
| 单周暴涨 | 当周值 > 前3周均值 × 1.5 | 案均从9千突增至1.2万 |
| 连续恶化 | 连续3周当周值上升 | 案均连续3周增长 |
| 趋势反转 | 累计改善但当周恶化(或相反) | 累计降但本周突增 |

**展示格式**:
```markdown
⚠️ **异常检测**: 第43周当周案均赔款突增至12,500元

| 周次 | W40 | W41 | W42 | W43 | W44 |
|------|-----|-----|-----|-----|-----|
| 当周 | N/A | 8,100 | 8,300 | **12,500** | 9,200 |

**分析**: 可能是大额案件集中赔付,需排查欺诈风险。
```

## 三层下钻逻辑

### Layer 1: 机构维度 → TOP3问题机构

**筛选标准**: 综合趋势评分(越低越差)

```
状态分(0-100) = 基于当前赔付率:
  < 60%: 97.5  (优秀)
  60-70%: 90   (良好)
  70-75%: 77.5 (中等)
  75-80%: 54.5 (预警)
  > 80%: 19.5  (高危)

幅度分(-30 ~ +20) = 基于周环比变化:
  下降>5%: +20
  下降0-5%: +10
  持平: 0
  上升0-5%: -10
  上升5-10%: -20
  上升>10%: -30

连续分(-30 ~ 0) = -10 × min(连续恶化周数, 3)

综合趋势评分 = 状态分 + 幅度分 + 连续分
```

**排序**: 按趋势分从低到高,取最低3个
**终止**: 赔付率<60%(优秀)的机构不纳入

### Layer 2: 业务类型维度 → 每个问题机构的TOP3问题业务

**筛选标准**: 影响度(赔付率 × 保费占比)

```
影响度 = 当前周赔付率 × (业务保费 / 机构保费) × 100
```

**示例**:
- 业务赔付率: 84.4%
- 占机构保费: 65.5%
- 影响度: 84.4 × 0.655 × 100 = 55.4

**排序**: 按影响度从高到低,取TOP3
**终止**: 保费占比<1%的业务跳过

### Layer 3: 险别维度 → 每个问题业务的最差险别

**筛选标准**: 综合趋势评分(与Layer 1相同)

**排序**: 按趋势分从低到高,取最低1个
**终止**: 保费占比<1%标记"样本量不足"

## 麦肯锡级报告结构

### 文件命名
```
赔付率问题演变追踪报告_第{end_week}周.md
```

### 报告骨架

```markdown
# 赔付率问题演变追踪报告
## 第{start_week}-{end_week}周 (2024年度保单)

---

## 执行摘要 (Executive Summary)

【1段话 + 3个关键数字 + 1个行动建议】

过去5周内,**高新机构**的赔付率从71.7%恶化至84.2%(↑12.5pp),
主要由**非营业客车旧车非过户**业务驱动(影响度55.4),该业务中
**主全险**赔付率高达93.8%且持续恶化。**立即建议**暂停该组合承保。

---

## 第一部分: 问题全景 - 三大失控机构

### 📍 机构#1: 高新 (综合风险评分: 32/100)

**问题性质**: 🔴 严重失控 - 连续4周恶化,已进入亏损区

**核心指标恶化轨迹**:
```
指标      第40周   第44周    变化      状态
赔付率    71.7%  → 84.2%   +12.5pp   🔴高危
出险率    45.2%  → 48.7%   +3.5pp    🟡预警
案均赔款  8,520  → 9,340   +9.6%     🟡预警
赔案件数  1,234  → 1,456   +18.0%    🔴激增
```

**问题诊断**:
赔付率恶化呈现"双驱动"特征:
1. **出险频率上升**(出险率+3.5pp): 风险选择失控
2. **单案赔款增长**(案均+9.6%): 定损管控松懈或欺诈风险

**风险传导路径**:
业务扩张 → 风控松动(出险率↑) → 高额赔付增多(案均↑) → 赔付率失控

---

## 第二部分: 病灶定位 - 高风险业务组合

### 机构#1: 高新 → 问题业务类型

#### 业务#1: 非营业客车旧车非过户 (影响度: 55.4)

**为什么是最大问题?**
- 赔付率高: 84.4% (超警戒线14.4pp)
- 规模大: 占机构保费65.5% (1,519万/2,319万)
- 影响深: 拖累机构整体赔付率55+个百分点

**经济影响测算**:
```
该业务5周累计:
- 满期保费: 1,519万元
- 实际赔款: 1,282万元
- 边际亏损: -33万元 (边贡率-2.2%)
```

**为什么赔付率上升?** 通过拆解:
1. **出险率上升**: 46.8% → 51.2% (↑4.4pp)
   - 意味着: 更多保单出险,风险敞口扩大
2. **案均赔款增长**: 8,920 → 9,580元 (↑7.4%)
   - 意味着: 单案赔款变大,可能修理成本上升
3. **赔案件数增加**: 1,156 → 1,342件 (↑16.1%)
   - 意味着: 绝对量增加

⚠️ **异常检测**: 第43周案均突增至11,200元(超均值25%)

| 周次 | W40 | W41 | W42 | W43 | W44 |
|------|-----|-----|-----|-----|-----|
| 案均 | N/A | 8,800 | 9,100 | **11,200** | 9,600 |

**可能原因**: 大额案件集中赔付或定损标准松动

---

## 第三部分: 根因穿透 - 险别组合问题

### 高新 → 非营业客车旧车非过户 → 主全险

**问题描述**:
这是问题核心 - 一个组合贡献机构60%保费,却产生93.8%赔付率。

**5周恶化轨迹**:
```
赔付率: 85.2% → 88.1% → 90.5% → 92.3% → 93.8%
趋势:   🔴连续5周恶化,无改善迹象
占比:   87.2% → 91.4% (占该业务保费比重持续上升)
```

**经营杠杆分析**:
- 该险别占高新机构总保费**59.8%** (1,387万/2,319万)
- 拖累机构整体赔付率**56个百分点**
- 如赔付率降至75%,机构整体可降至**73.1%**

**与其他险别对比**:
```
险别    赔付率  占比   影响度
主全险  93.8%  91.4%  85.8  ← 问题焦点
单交    85.0%   6.2%   5.3
交三    68.5%   2.4%   1.6
```

**业务洞察**:
主全险赔付率显著高于交三(+25.3pp),说明商业险责任是亏损主因。
暗示车辆定价模型低估了旧车非过户风险。

---

## 第四部分: 战略建议 (So What)

### 🚨 立即行动(24小时内)

**1. 紧急承保限制**
- 暂停"高新+非营业客车旧车非过户+主全险"新单承保
- 冻结续保自动审批,改为人工审核

**2. 存量风险排查**
- 调取第43周异常案件清单(案均>11,000元)
- 核查单案赔款>5万元的定损合理性

### ⏰ 本周内完成(7天)

**3. 根因诊断会议**
- 组织高新机构复盘,邀请核保、理赔、风控负责人
- 议题: 为什么旧车非过户风险失控?

**4. 费率重新定价**
- 启动"非营业客车旧车非过户"费率评估
- 测算: 要覆盖93.8%赔付率,费率需上调多少?

### 📊 中期优化(1个月)

**5. 业务结构调整**
- 降低主全险在高新机构的占比: 从91% → 70%
- 引导客户选择"交三+单交",降低风险敞口

**6. 风控模型升级**
- 将"旧车非过户"作为高风险因子纳入定价
- 提高该类业务风险保证金

---

## 附录: 方法论说明

**3层渐进式下钻法**:
- Layer 1: 机构 - 按趋势恶化程度找TOP3
- Layer 2: 业务类型 - 按影响度找TOP3
- Layer 3: 险别 - 按趋势恶化程度找最差1个

数据来源: {year}年度保单第{start_week}-{end_week}周累计数据
```

## 麦肯锡报告5大特征

| 特征 | 说明 | 体现 |
|------|------|------|
| 金字塔原理 | 先结论后支撑 | 执行摘要1段话说清核心 |
| So What思维 | 每个数据都回答"所以呢?" | "为什么是最大问题?" |
| 可视化洞察 | 用对比突出差异 | 险别对比表、5周轨迹 |
| 可落地建议 | 具体、有时限、可追踪 | 24小时内/7天内/1个月 |
| 经济影响量化 | 用金额说明严重性 | 边际亏损-33万元 |

## 实现要点

### 1. 周期管理

```python
# 配置参数(可选)
START_WEEK = None  # None=自动推断
END_WEEK = None    # None=自动推断
LOOKBACK_WEEKS = 5

def determine_period():
    if START_WEEK and END_WEEK:
        return START_WEEK, END_WEEK

    # 扫描数据文件
    available = scan_data_files()
    end = END_WEEK or max(available)
    start = START_WEEK or (end - LOOKBACK_WEEKS + 1)
    return start, end
```

### 2. 当周值计算

```python
def calculate_weekly(current_df, previous_df, field):
    if previous_df is None:
        return "N/A"

    current = current_df[field].sum()
    previous = previous_df[field].sum()
    return current - previous
```

### 3. 异常检测

```python
def detect_anomaly(weekly_values):
    current = weekly_values[-1]
    recent_3 = weekly_values[-4:-1]  # 前3周

    # 单周暴涨
    if current > np.mean(recent_3) * 1.5:
        return True

    # 连续恶化
    if all(weekly_values[i] < weekly_values[i+1]
           for i in range(len(weekly_values)-3, len(weekly_values)-1)):
        return True

    return False
```

## 常见错误

### ❌ 不加载前一周数据
```python
# 错误: 只加载40-44周
weeks = range(40, 45)
```
**后果**: 第40周当周值无法计算

✅ **正确**: 加载39-44周(6周),39用于计算40的当周值

### ❌ 用当周值计算赔付率
```python
# 错误
赔付率 = 当周赔款 / 当周保费
```
**后果**: 赔付率波动剧烈,失去稳定性

✅ **正确**: 赔付率只用累计值计算

### ❌ 表格堆砌,无业务洞察
```markdown
| 机构 | 赔付率 |
|------|--------|
| 高新 | 84.2% |
```
**后果**: 领导看不懂,"所以呢?"

✅ **正确**: "高新赔付率84.2%意味着每元保费亏损0.16元,
              5周累计亏损约37万元,需立即干预"

### ❌ 建议空泛无法落地
```markdown
建议: 加强风控,提高定价
```
**后果**: 无人执行

✅ **正确**: "24小时内暂停新单承保;7天内召开复盘会;
              1个月内完成费率重新定价"

## 与其他技能的关系

| 技能 | 关系 | 差异 |
|------|------|------|
| insurance-data-loader | 复用 | 本技能需加载前一周 |
| insurance-kpi-calculator | 复用 | 本技能增加当周值计算 |
| insurance-org-dimension-drilldown | 互补 | 单周快照 vs 多周演变 |
| insurance-weekly-report-assembler | 并行 | 周报 vs 趋势专题 |

## 快速参考

| 场景 | 做法 |
|------|------|
| 指定周期 | 修改START_WEEK和END_WEEK |
| 前一周缺失 | 当周值显示"N/A",继续运行 |
| 判断异常 | 单周暴涨/连续恶化/趋势反转 |
| 解释赔付率 | 拆解为出险率+案均赔款+案件数 |
| 写建议 | 按时限分类:24小时/7天/1个月 |
| 量化影响 | 用金额说明:边际亏损XX万元 |
