# 新能源货车KPI定义

## 核心KPI

### 1. 赔付率 (Loss Ratio)

**定义**: 已报告赔款占满期保费的比例

```
赔付率 = (已报告赔款 / 满期保费) × 100%
```

**数据来源**:
- 分子: `reported_claim_payment_yuan` (累计值)
- 分母: `matured_premium_yuan` (累计值)

**评估标准**:
- 🟢 优秀: < 50%
- 🟡 良好: 50-60%
- 🟠 中等: 60-70%
- 🔴 预警: 70-80%
- ⚫ 危险: > 80%

**行业对标**:
- 传统货车: 55-65%
- 新能源货车: 80-120%（普遍偏高）

---

### 2. 费用率 (Expense Ratio)

**定义**: 经营费用占签单保费的比例

```
费用率 = (费用总额 / 签单保费) × 100%
```

**数据来源**:
- 分子: `expense_amount_yuan`
- 分母: `signed_premium_yuan`

**评估标准**:
- 🟢 优秀: < 7.5%
- 🟡 良好: 7.5-12.5%
- 🟠 中等: 12.5-17.5%
- 🔴 预警: 17.5-22.5%
- ⚫ 危险: > 22.5%

---

### 3. 边际贡献率 (Contribution Margin Rate)

**定义**: 扣除赔款和费用后的利润率

```
边际贡献率 = 100% - 赔付率 - 费用率
```

**评估标准**:
- 🟢 优秀: > 12%
- 🟡 良好: 8-12%
- 🟠 中等: 6-8%
- 🔴 预警: 4-6%
- ⚫ 危险: < 4%
- ☠️ 亏损: < 0%

**新能源货车现状**:
- 平均边际贡献率: -30% 至 -50%（严重亏损）
- 主要原因: 赔付率过高

---

### 4. 出险率 (Claim Frequency)

**定义**: 出险保单占总保单的比例

```
出险率 = (赔案件数 / 保单件数) × 100%
```

**数据来源**:
- 分子: `claim_case_count`
- 分母: `policy_count`

**评估标准**:
- 🟢 良好: < 25%
- 🟡 正常: 25-50%
- 🟠 偏高: 50-75%
- 🔴 危险: 75-100%
- ⚫ 极危: > 100%（多次出险）

**解读**:
- >100% 意味着部分车辆多次出险
- 新能源货车普遍 >80%

---

### 5. 案均赔款 (Average Claim Amount)

**定义**: 单个赔案的平均赔付金额

```
案均赔款 = 已报告赔款 / 赔案件数
```

**评估标准**:
- 🟢 正常: < 5,000元
- 🟡 偏高: 5,000-8,000元
- 🟠 高: 8,000-10,000元
- 🔴 很高: 10,000-15,000元
- ⚫ 极高: > 15,000元

**风险指标**:
- >50,000元: 很可能涉及电池损坏
- >100,000元: 可能全损或重大事故

---

### 6. 单均保费 (Average Premium)

**定义**: 单张保单的平均保费

```
单均保费 = 签单保费 / 保单件数
```

**参考值**:
- 2吨以下营业货车: 12,000-15,000元
- 2-10吨营业货车: 18,000-25,000元
- 10吨以上: 25,000-35,000元

---

## 衍生KPI

### 7. 变动成本率

```
变动成本率 = 赔付率 + 费用率
```

**目标**: < 85% (保险公司才能盈利)

---

### 8. 保费增长率

```
保费增长率 = (期末保费 - 期初保费) / 期初保费 × 100%
```

---

### 9. 赔付率波动性

```
赔付率标准差 = σ(周度赔付率序列)
```

**评估**:
- 低波动: σ < 10
- 中波动: 10 ≤ σ < 20
- 高波动: σ ≥ 20

---

## 计算注意事项

### 累计值 vs 当周值

**累计值**:
- 数据源: CSV文件直接提供
- 用途: 赔付率、费用率等率值指标

**当周值**:
- 计算: 本周累计 - 上周累计
- 用途: 保费增长、赔款增量等

### 除零处理

```python
# 正确处理
loss_ratio = (claims / premium * 100) if premium > 0 else 0

# 或使用小值代替零
loss_ratio = claims / (premium + 1) * 100
```

### 数据类型

确保数值型字段正确转换：
```python
df['signed_premium_yuan'] = pd.to_numeric(
    df['signed_premium_yuan'],
    errors='coerce'
).fillna(0)
```
